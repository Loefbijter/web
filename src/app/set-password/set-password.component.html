<mat-card>
  <mat-card-title>{{'set-password.title' | content}}</mat-card-title>
  <mat-card-content>
    <form [formGroup]="setPasswordForm" (submit)="onSubmit($event)" novalidate>
      <p>
        <mat-form-field>
          <input type="password" matInput placeholder="{{'set-password.password.placeholder' | content}}"
            formControlName="password">
        </mat-form-field>
        <app-form-errors [targetFormControl]="f.password" [messages]="errors.password"
          (errorChanges)="updateErrors('password', $event)">
        </app-form-errors>
      </p>

      <p>
        <mat-form-field>
          <input type="password" matInput placeholder="{{'set-password.confirm-password.placeholder' | content}}"
            formControlName="confirmPassword">
        </mat-form-field>
        <app-form-errors [targetFormControl]="f.confirmPassword" [messages]="errors.confirmPassword"
          (errorChanges)="updateErrors('confirmPassword', $event)">
        </app-form-errors>
      </p>

      <p *ngIf="error" class="mat-warn-text">{{error}}</p>

      <div class="button">
        <ng-container *ngIf="!loading; else spinner">
          <button type="submit" color="primary" mat-flat-button>{{'set-password.button.confirm.text' | content}}</button>
        </ng-container>
        <ng-template #spinner>
          <mat-spinner diameter="30"></mat-spinner>
        </ng-template>
      </div>
    </form>
  </mat-card-content>
</mat-card>
