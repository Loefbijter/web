<h2 class="mat-title">{{'edit-damage.title' | content}}</h2>

<form [formGroup]="editDamageForm" (submit)="onSubmit()" novalidate>
  <p>
    <mat-form-field>
      <input type="text" matInput placeholder="{{'edit-damage.description.placeholder' | content}}" formControlName="description">
    </mat-form-field>
    <app-form-errors [targetFormControl]="editDamageForm.controls.description" [messages]="errors.description"
      (errorChanges)="updateErrors('description', $event)">
    </app-form-errors>
  </p>
  <p>
    <mat-form-field>
      <input matInput placeholder="{{'edit-damage.resolvedAt.placeholder' | content}}" [matDatepicker]="resolvedAtDatepicker" formControlName="resolvedAt">
      <mat-datepicker-toggle matSuffix [for]="resolvedAtDatepicker"></mat-datepicker-toggle>
      <mat-datepicker #resolvedAtDatepicker></mat-datepicker>
    </mat-form-field>
    <app-form-errors [targetFormControl]="editDamageForm.controls.resolvedAt" [messages]="errors.resolvedAt"
      (errorChanges)="updateErrors('resolvedAt', $event)">
    </app-form-errors>
  </p>
  <div class="form-actions">
    <ng-container *ngIf="!loading; else spinner">
      <button type="button" mat-button (click)="this.dialogRef.close()">{{'edit-damage.button.cancel.text' | content}}</button>
      <button type="submit" mat-button>{{'edit-damage.button.save.text' | content}}</button>
    </ng-container>
    <ng-template #spinner>
      <mat-spinner diameter="30"></mat-spinner>
    </ng-template>
  </div>
</form>
